<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BlHell-per</title>
    <base href="/" />

    <link href="manifest.webmanifest" rel="manifest" />
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png" />

    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />

    <link rel="icon" type="image/png" href="favicon.png" />
    <link href="BlHell-per.styles.css" rel="stylesheet" />

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="css/extended.css" />

    <!---<link href="_content/Toolbelt.Blazor.PWA.Updater/Toolbelt.Blazor.PWA.Updater.bundle.scp.css"
          rel="stylesheet" />--->

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º KaTeX CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" 
          integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin="anonymous">
</head>

<body>
    <div id="app">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">üóô</a>
    </div>

    <!---<script>navigator.serviceWorker.register('service-worker.js');</script>--->

    <script>
        window.saveFile = async (file, Content) => {
            var link = document.createElement('a');
            link.download = name;
            link.href = "data:text/plain;charset=utf-8," + encodeURIComponent(Content)
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        window.loadJSON = async (url) => {
            if (navigator.onLine) {
                try {
                    const response = await fetch(url);
                    if (!response.ok) {
                        throw new Error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${response.status}`);
                    }
                    const data = await response.json();
                    console.log("–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:", data);
                    return data;
                } catch (error) {
                    console.error("–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:", error);
                    alert("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.");
                    return null;
                }
            } else {
                // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞, –µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
                const cachedResponse = await caches.match(url);
                if (cachedResponse) {
                    const data = await cachedResponse.json();
                    console.log("–î–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞:", data);
                    return data;
                } else {
                    alert("–í—ã –æ—Ñ–ª–∞–π–Ω, –∏ –¥–∞–Ω–Ω—ã—Ö –≤ –∫—ç—à–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.");
                    return null;
                }
            }
        }
    </script>
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>
    <script src="_content/BlazorAnimation/blazorAnimationInterop.js"></script>

    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ KaTeX -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js" integrity="sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"></script>

    <!-- –í–∞—à —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤—ã–∑–æ–≤–∞ –∞–≤—Ç–æ-—Ä–µ–Ω–¥–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) -->
    <script src="KaTeX.cs.js"></script>

    <script src="_framework/blazor.webassembly.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function () {
                navigator.serviceWorker.register('/BlHell-per/service-worker.js', { scope: '/BlHell-per/' })
                    .then(registration => {
                        console.log('–°–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω c –æ–±–ª–∞—Å—Ç—å—é:', registration.scope);
                    })
                    .catch(error => {
                        console.error('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä–∞:', error);
                    });
            });
        }
    </script>



    <!---<script src="_content/Toolbelt.Blazor.PWA.Updater.Service/script.min.js" no-register></script>
    <script>
        navigator.serviceWorker.register('service-worker.js').then(registration => {
            // üëá Invoke this manually.
            Toolbelt.Blazor.PWA.Updater.handleRegistration(registration);
        });
    </script>--->
</body>

    </html>
